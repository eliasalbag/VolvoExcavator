import pygame
import time

pygame.init()
pygame.joystick.init()

if pygame.joystick.get_count() == 0:
    print("No controller found!")
    exit()

joystick = pygame.joystick.Joystick(0)
joystick.init()
print("Detected:", joystick.get_name())

while True:
    pygame.event.pump()
    lx = joystick.get_axis(0)
    ly = joystick.get_axis(1)
    rx = joystick.get_axis(3)
    ry = joystick.get_axis(4)

    a = joystick.get_button(0)
    b = joystick.get_button(1)
    x = joystick.get_button(2)
    y = joystick.get_button(3)

    print(f"LX={lx:.2f}  LY={ly:.2f}  RX={rx:.2f}  RY={ry:.2f}  A={a}  B={b}")
    time.sleep(0.1)
